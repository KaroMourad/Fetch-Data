{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\src\\\\MyFetch.js\";\nimport React, { Component } from 'react';\nimport './MyFetch.css';\n\nvar MyFetch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyFetch, _Component);\n\n  function MyFetch(props) {\n    var _this;\n\n    _classCallCheck(this, MyFetch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyFetch).call(this, props));\n    _this.state = {\n      isLoading: true,\n      users: []\n    };\n    return _this;\n  }\n\n  _createClass(MyFetch, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      fetch(\"https://ghibliapi.herokuapp.com/people\", {\n        method: 'get'\n      }).then(function (response) {\n        return response.json().then(function (data) {\n          _this2.setState({\n            isLoading: false,\n            users: data\n          });\n        });\n      }).catch(function (error) {\n        return _this2.setState({\n          error: error,\n          isLoading: false\n        });\n      }); // .finally( () => {\n      //     document.getElementById(\"my-img\").style.visibility = \"hidden\";\n      // });\n    } // create(data) {\n    //     let table = []\n    //     let propertyNames = Object.getOwnPropertyNames(data[0])\n    //     for (let i in propertyNames) {\n    //         table.push(<th>{propertyNames[i]}</th>)\n    //     }\n    //     for (let i in data) {\n    //         let children=[]\n    //         for(let j in data[i]) {\n    //             children.push(<tr>{data[i][j]}</tr>)\n    //         }\n    //         table.push(<td>{children}</td>)\n    //     }\n    //     console.log(table);\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          users = _this$state.users,\n          isLoading = _this$state.isLoading,\n          error = _this$state.error;\n\n      if (error) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, error.message);\n      }\n\n      if (isLoading) {\n        return React.createElement(\"img\", {\n          id: \"my-img\",\n          alt: \"...loading data\",\n          src: \"https://loading.io/spinners/wave/lg.wave-ball-preloader.gif\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, users.map(function (user) {\n        return React.createElement(\"tr\", {\n          key: user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, user.name), \" \");\n      }));\n    }\n  }]);\n\n  return MyFetch;\n}(Component);\n\nexport { MyFetch as default };","map":{"version":3,"sources":["C:\\Users\\admin\\Desktop\\Kar\\JavaScript\\fetch-react\\src\\MyFetch.js"],"names":["React","Component","MyFetch","props","state","isLoading","users","setState","fetch","method","then","response","json","data","catch","error","message","map","user","id","name"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,eAAP;;IAEqBC,O;;;;;AACjB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,IADF;AAETC,MAAAA,KAAK,EAAE;AAFE,KAAb;AAFe;AAMlB;;;;wCAEmB;AAAA;;AAChB,WAAKC,QAAL,CAAc;AAACF,QAAAA,SAAS,EAAE;AAAZ,OAAd;AAEAG,MAAAA,KAAK,CAAC,wCAAD,EAA2C;AAC5CC,QAAAA,MAAM,EAAE;AADoC,OAA3C,CAAL,CAGCC,IAHD,CAGM,UAAAC,QAAQ,EAAI;AACd,eAAOA,QAAQ,CAACC,IAAT,GACFF,IADE,CACG,UAAAG,IAAI,EAAI;AACV,UAAA,MAAI,CAACN,QAAL,CAAc;AACVF,YAAAA,SAAS,EAAC,KADA;AAEVC,YAAAA,KAAK,EAAEO;AAFG,WAAd;AAIH,SANE,CAAP;AAQH,OAZD,EAaCC,KAbD,CAaO,UAAAC,KAAK;AAAA,eAAI,MAAI,CAACR,QAAL,CAAc;AAAEQ,UAAAA,KAAK,EAALA,KAAF;AAASV,UAAAA,SAAS,EAAE;AAApB,SAAd,CAAJ;AAAA,OAbZ,EAHgB,CAiBhB;AACA;AACA;AACH,K,CAKD;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;6BAES;AAAA,wBAC+B,KAAKD,KADpC;AAAA,UACGE,KADH,eACGA,KADH;AAAA,UACUD,SADV,eACUA,SADV;AAAA,UACqBU,KADrB,eACqBA,KADrB;;AAGL,UAAIA,KAAJ,EAAW;AACX,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIA,KAAK,CAACC,OAAV,CAAP;AACC;;AAED,UAAIX,SAAJ,EAAe;AACf,eAAO;AAAK,UAAA,EAAE,EAAC,QAAR;AAAiB,UAAA,GAAG,EAAC,iBAArB;AAAuC,UAAA,GAAG,EAAE,6DAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACC;;AAED,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKC,KAAK,CAACW,GAAN,CAAU,UAAAC,IAAI;AAAA,eAAI;AAAI,UAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,IAAI,CAACE,IAAV,CAAlB,MAAJ;AAAA,OAAd,CADL,CADJ;AAMH;;;;EArEgCnB,S;;SAAhBC,O","sourcesContent":["import React, { Component } from 'react';\r\nimport './MyFetch.css'\r\n\r\nexport default class MyFetch extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: true,\r\n            users: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n\r\n        fetch(\"https://ghibliapi.herokuapp.com/people\", {\r\n            method: 'get'\r\n        })\r\n        .then(response => {\r\n            return response.json()\r\n                .then(data => {\r\n                    this.setState({\r\n                        isLoading:false,\r\n                        users: data\r\n                    })\r\n                }\r\n            )\r\n        })\r\n        .catch(error => this.setState({ error, isLoading: false }));\r\n        // .finally( () => {\r\n        //     document.getElementById(\"my-img\").style.visibility = \"hidden\";\r\n        // });\r\n    }\r\n\r\n    \r\n\r\n    \r\n    // create(data) {\r\n    //     let table = []\r\n    //     let propertyNames = Object.getOwnPropertyNames(data[0])\r\n        \r\n    //     for (let i in propertyNames) {\r\n    //         table.push(<th>{propertyNames[i]}</th>)\r\n    //     }\r\n\r\n    //     for (let i in data) {\r\n    //         let children=[]\r\n    //         for(let j in data[i]) {\r\n    //             children.push(<tr>{data[i][j]}</tr>)\r\n    //         }\r\n    //         table.push(<td>{children}</td>)\r\n    //     }\r\n    //     console.log(table);\r\n    // }\r\n    \r\n    render() {\r\n        const { users, isLoading, error } = this.state;\r\n\r\n        if (error) {\r\n        return <p>{error.message}</p>;\r\n        }\r\n\r\n        if (isLoading) {\r\n        return <img id=\"my-img\" alt=\"...loading data\" src={\"https://loading.io/spinners/wave/lg.wave-ball-preloader.gif\"}/>;\r\n        }\r\n\r\n        return (\r\n            <table>\r\n                {users.map(user => <tr key={user.id}><td>{user.name}</td> </tr>)}\r\n            </table>\r\n              \r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}