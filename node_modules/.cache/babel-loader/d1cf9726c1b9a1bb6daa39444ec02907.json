{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Kar\\\\JavaScript\\\\fetch-react\\\\src\\\\MyFetch.js\";\nimport React, { Component } from 'react';\nimport './MyFetch.css';\n\nvar MyFetch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyFetch, _Component);\n\n  function MyFetch(props) {\n    var _this;\n\n    _classCallCheck(this, MyFetch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyFetch).call(this, props));\n    _this.state = {\n      isLoading: true,\n      contacts: []\n    };\n    return _this;\n  }\n\n  _createClass(MyFetch, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchdata();\n    }\n  }, {\n    key: \"fetchdata\",\n    value: function fetchdata() {\n      var _this2 = this;\n\n      fetch(\"https://ghibliapi.herokuapp.com/people\", {\n        method: 'get'\n      }).then(function (response) {\n        return response.json().then(function (data) {\n          _this2.create(data);\n        });\n      }).catch(function (err) {\n        console.error(err);\n      }).finally(function () {\n        document.getElementById(\"my-img\").style.visibility = \"hidden\";\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(data) {\n      var table = [];\n      var propertyNames = Object.getOwnPropertyNames(data[0]);\n\n      for (var i in propertyNames) {\n        table.push(React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \"\".concat(propertyNames[i])));\n      }\n\n      for (var _i in data) {\n        var children = void 0;\n\n        for (var j in data[_i]) {\n          children.push(React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }, \"\".concat(data[_i][j])));\n        }\n\n        table.push(React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, children));\n      }\n\n      console.log(table);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isLoading = this.state.isLoading;\n      return React.createElement(\"div\", {\n        className: \"content \".concat(isLoading ? 'is-loading' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"my-img\",\n        alt: \"...loading data\",\n        src: \"https://loading.io/spinners/wave/lg.wave-ball-preloader.gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, this.fetchdata()));\n    }\n  }]);\n\n  return MyFetch;\n}(Component);\n\nexport { MyFetch as default };","map":{"version":3,"sources":["C:\\Users\\admin\\Desktop\\Kar\\JavaScript\\fetch-react\\src\\MyFetch.js"],"names":["React","Component","MyFetch","props","state","isLoading","contacts","fetchdata","fetch","method","then","response","json","data","create","catch","err","console","error","finally","document","getElementById","style","visibility","table","propertyNames","Object","getOwnPropertyNames","i","push","children","j","log"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,eAAP;;IAEqBC,O;;;;;AACjB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,IADF;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAFe;AAMlB;;;;wCAEmB;AAChB,WAAKC,SAAL;AACH;;;gCAEW;AAAA;;AACRC,MAAAA,KAAK,CAAC,wCAAD,EAA2C;AAC/CC,QAAAA,MAAM,EAAE;AADuC,OAA3C,CAAL,CAGFC,IAHE,CAGG,UAAAC,QAAQ,EAAI;AACX,eAAOA,QAAQ,CAACC,IAAT,GACFF,IADE,CACG,UAAAG,IAAI,EAAI;AACV,UAAA,MAAI,CAACC,MAAL,CAAYD,IAAZ;AACH,SAHE,CAAP;AAKH,OATD,EAUCE,KAVD,CAUO,UAAAC,GAAG,EAAI;AACVC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH,OAZD,EAaCG,OAbD,CAaU,YAAM;AACZC,QAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAAlC,CAAwCC,UAAxC,GAAqD,QAArD;AACH,OAfD;AAgBH;;;2BAGMV,I,EAAM;AACT,UAAIW,KAAK,GAAG,EAAZ;AACA,UAAIC,aAAa,GAAGC,MAAM,CAACC,mBAAP,CAA2Bd,IAAI,CAAC,CAAD,CAA/B,CAApB;;AAEA,WAAK,IAAIe,CAAT,IAAcH,aAAd,EAA6B;AACzBD,QAAAA,KAAK,CAACK,IAAN,CAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAQJ,aAAa,CAACG,CAAD,CAArB,EAAX;AACH;;AAED,WAAK,IAAIA,EAAT,IAAcf,IAAd,EAAoB;AAChB,YAAIiB,QAAQ,SAAZ;;AACA,aAAI,IAAIC,CAAR,IAAalB,IAAI,CAACe,EAAD,CAAjB,EAAsB;AAElBE,UAAAA,QAAQ,CAACD,IAAT,CAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAQhB,IAAI,CAACe,EAAD,CAAJ,CAAQG,CAAR,CAAR,EAAd;AACH;;AACDP,QAAAA,KAAK,CAACK,IAAN,CAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKC,QAAL,CAAX;AACH;;AACDb,MAAAA,OAAO,CAACe,GAAR,CAAYR,KAAZ;AACH;;;6BAEQ;AAAA,UACEnB,SADF,GACe,KAAKD,KADpB,CACEC,SADF;AAEL,aACI;AAAK,QAAA,SAAS,oBAAaA,SAAS,GAAG,YAAH,GAAkB,EAAxC,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,EAAE,EAAC,QAAR;AAAiB,QAAA,GAAG,EAAC,iBAArB;AAAuC,QAAA,GAAG,EAAE,6DAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKE,SAAL,EADL,CAFJ,CADJ;AAQH;;;;EA9DgCN,S;;SAAhBC,O","sourcesContent":["import React, { Component } from 'react';\r\nimport './MyFetch.css'\r\n\r\nexport default class MyFetch extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: true,\r\n            contacts: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchdata();\r\n    }\r\n\r\n    fetchdata() {\r\n        fetch(\"https://ghibliapi.herokuapp.com/people\", {\r\n\t        method: 'get'\r\n        })\r\n\t    .then(response => {\r\n            return response.json()\r\n                .then(data => {\r\n                    this.create(data);\r\n                }\r\n            )\r\n        })\r\n        .catch(err => {\r\n            console.error(err);\r\n        })\r\n        .finally( () => {\r\n            document.getElementById(\"my-img\").style.visibility = \"hidden\";\r\n        });\r\n    }\r\n\r\n    \r\n    create(data) {\r\n        let table = [];\r\n        let propertyNames = Object.getOwnPropertyNames(data[0]);\r\n        \r\n        for (let i in propertyNames) {\r\n            table.push(<th>{`${propertyNames[i]}`}</th>)\r\n        }\r\n\r\n        for (let i in data) {\r\n            let children ;\r\n            for(let j in data[i]) {\r\n                \r\n                children.push(<td>{`${data[i][j]}`}</td>)\r\n            }\r\n            table.push(<tr>{children}</tr>)\r\n        }\r\n        console.log(table);\r\n    }\r\n    \r\n    render() {\r\n        const {isLoading} = this.state;\r\n        return (\r\n            <div className={`content ${isLoading ? 'is-loading' : ''}`}>\r\n                <img id=\"my-img\" alt=\"...loading data\" src={\"https://loading.io/spinners/wave/lg.wave-ball-preloader.gif\"}/>\r\n                <table>\r\n                    {this.fetchdata()}\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}